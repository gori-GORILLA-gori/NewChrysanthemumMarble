# NewChrysanthemumMarble

`wplace.live` でのピクセルアート制作を支援するための多機能ユーザースクリプトです。

このスクリプトは、[Blue Marble](https://github.com/Hao-1337/Wplace-BM) をベースに、作業効率とユーザー体験を向上させるための多くの改良が加えられたフォークです。

## 概要

`wplace.live`は、多くのユーザーが協力して一枚の巨大なキャンバスに絵を描く、コラボレーションプラットフォームです。このスクリプトを導入することで、テンプレートの管理、描画進捗の確認、エラー箇所の特定などが容易になり、より快適にピクセルアート制作に貢献できます。

## インストール方法

**重要:** スクリプトの競合を避けるため、導入前にオリジナルの「Blue Marble」や他のフォーク版がインストールされている場合は、必ず削除してください。

本スクリプトの利用には、[Tampermonkey](https://www.tampermonkey.net/) などのユーザースクリプトマネージャーが必要です。

1.  お使いのブラウザに合ったTampermonkeyをインストールします。
2.  このプロジェクトのユーザースクリプトファイル（`.user.js`）をTampermonkeyにインストールします。
3.  `wplace.live`のページを開くと、スクリプトが自動的に有効になります。

## 主な機能

*   **テンプレート管理:** テンプレートのインポート・エクスポート機能。
*   **色ごとの進捗確認:** テンプレート内の各色について、描画状況を詳細に表示。
*   **拡張モード（ハイライト）:** 特定の色が使われているピクセルをキャンバス上で強調表示。
*   **総合進捗バー:** テンプレート全体の進捗率やピクセル数を視覚的に表示。
*   **エラーマップ:** テンプレートと異なる色が置かれているピクセルを自動でハイライト。
*   **タイルの一時停止:** キャンバスの更新を停止し、描画時のラグを完全に排除。
*   **高度な設定:** 十字カーソルのカスタマイズやモバイル向けUIなど。
*   **ロケーションシステム:** お気に入りの座標を保存・検索・移動。
*   **ピクセルカウンター:** 各色について、残りの必要ピクセル数を表示。

## 機能詳細

### テンプレート管理
テンプレートを`.json`ファイルとしてエクスポート（保存）したり、インポート（読み込み）したりできます。これにより、テンプレートのバックアップや、大規模プロジェクトでの共同作業者との共有が簡単になります。

### 色ごとの進捗確認
テンプレートで使われている各色について、描画済みのピクセル数、間違っているピクセル数、そして残りのピクセル数を個別に確認できます。

### 拡張モード（ハイライト）
拡張モードを有効にすると、キャンバス上の特定のピクセルをハイライト表示できます。色を選択するだけで、その色がどこに配置されるべきかが一目でわかります。

### 総合進捗バー
テンプレート全体の進捗状況を示す視覚的なバーです。完了率（%）や、総ピクセル数のうちどれだけ描画が完了したかを表示します。

### エラーマップ
間違った色で塗られているピクセルを素早く見つけられます。エラーマップは修正が必要な箇所を自動的にハイライトするため、効率的な修正作業が可能です。

### タイルの一時停止
描画中のラグを100%解消するため、キャンバスを完全に「凍結」させます。有効化すると、テンプレートは静的な状態になり更新されなくなるため、最大限のパフォーマンスを発揮します。リアルタイムの更新を確認したい場合は、再度有効化してください。

### 高度な設定
- **モバイルモード:** モバイルデバイスに最適化された、コンパクトなインターフェース。
- **十字カーソルのカスタマイズ:** ハイライト色、サイズ、透明度、枠線などを自由に設定。
- **コーナーボーダー:** ピクセルの角に境界線を追加し、視認性と描画精度を向上。

### ロケーションシステム
- **場所の検索:** 世界中のあらゆる場所を検索し、マップ上のその位置へ直接移動できます。
- **カスタムお気に入り:** `wplace.live`のリンクを貼り付けたり、座標を手動で入力したりして、重要な場所を保存できます。作業エリアや特定のプロジェクト、参照点をマークするのに最適です。

### ピクセルカウンター
追加のメニューを開くことなく、各色についてあと何ピクセル必要かがカラーバー上に直接表示されます。

## 使用方法

1.  通常通りにテンプレートを読み込みます。
2.  設定画面を開き、好みに合わせて体験をカスタマイズします。
3.  特定の色を塗る際は、拡張モードを有効にして作業箇所をハイライトします。
4.  パフォーマンスが低いと感じたら、タイルの一時停止機能を利用します。
5.  進捗バーやカウンターで、テンプレートの完成状況を随時確認します。

## クレジット

このプロジェクトは、以下の素晴らしいプロジェクトに基づいています。

*   [Seris0/Wplace-BlueMarble](https://github.com/Seris0/Wplace-BlueMarble)
